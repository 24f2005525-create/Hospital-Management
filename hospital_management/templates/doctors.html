{% extends "base.html" %}

{% block title %}Manage Doctors{% endblock %}

{% block content %}

<div class="Doctor-page-content">
    <div class="doc-page-box">
        <h2>Manage Doctors</h2>
        <section class="add_doctors">
                <h3>Add Doctor</h3>
                <form action="{{ url_for('add_doctor')}}" method="POST" class="doctor-form">
                    <input type="text" name="username" placeholder="Doctor name" required>
                    <input type="text" name="contact" placeholder="Contact" required>
                    <input type="email" name="email" placeholder="email" required>
                    <input type="text" name="department" placeholder="Doctor Department" required>
                    <input type="date" name="dob" required>
                    <input type="password" name="password" placeholder="Password" required>
                    <button type="submit" class="add-btn">Add Doctor</button>
                </form>
            </section>
            <section class="doctors-section">
                <h3>Registered Doctors</h3>
                {% if doctors %}
                <div class="doctor-list">
                    {% for doc in doctors %}
                    <div class="doctors-card">
                        <div class="doctors-info">
                            <p><strong>Dr. {{ doc.username }}</strong></p>
                            <p>Email: {{ doc.email_address }}</p>
                            <p>Contact: {{ doc.contact }}</p>
                            <p>Department: {{ doc.department.name if doc.department else "No department yet"}}</p>
                        </div>
                    
                        <div class="doctor-buttons">
                            <a href="{{ url_for('doctor_details', doc_id=doc.id) }}" class="view-btn">View</a>
                            <a href="{{ url_for('edit_doctor', doc_id=doc.id) }}" class="edit-btn">Edit</a>
                            <form action="{{ url_for('delete_doctor', doc_id=doc.id) }}" method="POST" class="delete-form">
                                <button type="submit" class="delete-btn">Delete</button>
                            </form>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                {% else %}
                <p>No doctors added yet.</p>
                {% endif %}
            </section>


    </div>
</div>

{% endblock %}